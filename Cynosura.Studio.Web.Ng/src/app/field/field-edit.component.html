<mat-card *ngIf="field">

    <mat-card-header>
        <mat-card-title>Field <app-field-show [value]="field"></app-field-show></mat-card-title>
    </mat-card-header>

    <form [formGroup]="fieldForm" (ngSubmit)="onSubmit()">
        <div>
            <mat-form-field>
                <mat-label>Name</mat-label>
                <app-text-edit formControlName="name" name="name" placeholder="Name"></app-text-edit>
                <mat-error>{{ error?.modelState?.name | modelError }}</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field>
                <mat-label>Display Name</mat-label>
                <app-text-edit formControlName="displayName" name="displayName" placeholder="Display Name"></app-text-edit>
                <mat-error>{{ error?.modelState?.displayName | modelError }}</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field>
                <mat-label>Type</mat-label>
                <mat-select formControlName="type" id="type" pnaceholder="type">
                    <mat-option [value]="null">Select Type</mat-option>
                    <mat-option *ngFor="let item of FieldType | enumkeys" [value]="item.key">{{item.value}}</mat-option>
                </mat-select>
                <mat-error>{{ error?.modelState?.size | modelError }}</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field>
                <mat-label>Size</mat-label>
                <app-number-edit formControlName="size" name="size" placeholder="Size"></app-number-edit>
                <mat-error>{{ error?.modelState?.size | modelError }}</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field>
                <mat-label>Entity</mat-label>
                <app-entity-select formControlName="entityId" [solutionId]="solutionId" name="entityId" placeholder="Entity"></app-entity-select>
                <mat-error>{{ error?.modelState?.entityId | modelError }}</mat-error>
            </mat-form-field>
        </div>
        
        <div>
            <mat-form-field>
                <mat-label>Enum</mat-label>
                <app-enum-select formControlName="enumId" [solutionId]="solutionId" name="enumId" placeholder="Enum"></app-enum-select>
                <mat-error>{{ error?.modelState?.enumId | modelError }}</mat-error>
            </mat-form-field>
        </div>
        <div>
            <app-bool-edit formControlName="isRequired" name="isRequired" label="Required"></app-bool-edit>
        </div>
        <div>
            <app-bool-edit formControlName="isSystem" name="isSystem" label="System"></app-bool-edit>
        </div>
        <div>
            <label for="properties">Properties</label>
            <div *ngIf="field">
                <app-properties [target]="field.name" [properties]="field.properties"></app-properties>
            </div>
        </div>
        <mat-card-actions>
            <button mat-raised-button color="primary" type="submit">Save</button>
        </mat-card-actions>
    </form>

</mat-card>